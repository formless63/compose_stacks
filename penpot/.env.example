# .env.example
#
# Penpot (recommended: pin PENPOT_VERSION for production instead of latest)
PENPOT_VERSION=latest

# Public URL (assumes HTTPS via your reverse proxy, e.g., Pangolin)
PENPOT_PUBLIC_URI=https://sub.domain.com

# External bind port for the frontend container (Pangolin will typically route to this service internally)
PENPOT_HTTP_PORT=9001

# Bind-mount roots (relative to the folder containing compose.yaml)
DB_VOLUME=./penpot/postgres
ASSETS_VOLUME=./penpot/assets

# Flags (space-separated). For your assumptions:
# - enable-smtp: SMTP email sending
# - enable-prepl-server: required for manage.py administrative tasks (create-profile, etc.)
# - enable-telemetries: anonymous telemetry for Penpot improvements (optional but “self-host friendly”)
PENPOT_FLAGS=enable-smtp enable-prepl-server enable-telemetries

# Upload limits
# 30 MiB max body (plain requests)
PENPOT_HTTP_SERVER_MAX_BODY_SIZE=31457280
# 350 MiB max multipart body
PENPOT_HTTP_SERVER_MAX_MULTIPART_BODY_SIZE=367001600

# Secret key (generate a strong one; required for stable sessions/invitations)
# python3 -c "import secrets; print(secrets.token_urlsafe(64))"
PENPOT_SECRET_KEY=change-this-insecure-key

# Database (internal docker service by default)
PENPOT_DATABASE_URI=postgresql://penpot-postgres/penpot
PENPOT_DATABASE_USERNAME=penpot
PENPOT_DATABASE_PASSWORD=penpot

# Postgres container settings
POSTGRES_INITDB_ARGS=--data-checksums
POSTGRES_DB=penpot
POSTGRES_USER=penpot
POSTGRES_PASSWORD=penpot

# Valkey/Redis (internal docker service by default)
PENPOT_REDIS_URI=redis://penpot-valkey/0
# Default from Penpot example; adjust if you want
VALKEY_EXTRA_FLAGS=--maxmemory 128mb --maxmemory-policy volatile-lfu

# Assets storage (filesystem-in-volume default)
PENPOT_OBJECTS_STORAGE_BACKEND=fs
PENPOT_OBJECTS_STORAGE_FS_DIRECTORY=/opt/data/assets

# SMTP (required per your assumptions)
# Note: Penpot recommends SMTP if you plan to invite team members (invites are email-based). :contentReference[oaicite:0]{index=0}
PENPOT_SMTP_DEFAULT_FROM=no-reply@sub.domain.com
PENPOT_SMTP_DEFAULT_REPLY_TO=no-reply@sub.domain.com
PENPOT_SMTP_HOST=smtp.yourprovider.com
PENPOT_SMTP_PORT=587
PENPOT_SMTP_USERNAME=your-smtp-username
PENPOT_SMTP_PASSWORD=your-smtp-password
PENPOT_SMTP_TLS=true
PENPOT_SMTP_SSL=false
